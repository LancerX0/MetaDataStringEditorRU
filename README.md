# Инструмент частичной модификации строк для global-metadata.dat
&emsp;&emsp;Для Android-игр, экспортируемых из скриптового бэкенда Unity-il2cpp, строки, появляющиеся в коде, будут скомпилированы в файл assets\bin\Data\Managed\Metadata\global-metadata.dat, и в рамках работы над китайским языком я просто подключил инструмент для внесения изменений в строки в нем.
## Ссылки
- [il2cppdumper](https://github.com/Perfare/Il2CppDumper)<br>
Понимание содержимого этого файла можно почерпнуть из исходного кода этого инструмента, который сам используется для экспорта определений классов изнутри скомпилированного файла libil2cpp.so и файла global-metadata.dat, в виде скриптов переименования, доступных для IDA, DLL, доступных для UABE и AssetStudio, и т. д., что является очень полезным инструментом. инструмент.
## Содержание модификации
&emsp;&emsp;В файле global-metadata.dat способ сохранения строк в коде таков: в заголовке есть список, в который помещается смещение, длина и т. д. каждой строки, а затем в области данных есть область, в которую компактно помещаются все строки напрямую, со списком в заголовке, поэтому ее не нужно \0-расширять.<br>
&emsp;&emsp;Поскольку количество строк остается неизменным до и после модификации, модификация списка является прямой перезаписью исходной области. Длина области данных может измениться. Если длина области данных после модификации меньше или равна исходной длине, она непосредственно перезаписывается и записывается, если слишком длинная, то записывается в конец файла.
## Проект является переводом проекта от другого пользователя
